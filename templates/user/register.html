{%extends "base.html" %}
{% load static %}
{%block title%}Регистрация{%endblock%}

{%block main%}
<!-- <h1>Регистрация</h1> -->
<body>
    <form method="post" class = "form_1" style = "margin-top: 8%;">
        {% csrf_token %}
        <img src="{% static 'img/bluecat.svg' %}" style="width: 70%; height: 70%; margin-left: 15%; margin-bottom: 5%;"><br>
        <label for="email">Email</label>
        <input type="email" name="email" class="input-field" required><br>
        <label for="first_name">Имя</label>
        <input type="text" name="first_name" class="input-field" required><br>
        <label for="last_name">Фамилия</label>
        <input type="text" name="last_name" class="input-field" required><br>
        <label for="middle_name">Отчество</label>
        <input type="text" name="middle_name" class="input-field" required><br>
        <label for="role">Роль</label>
        <select name="role" id="role" class="input-field">
            <option value="1">Студент</option>
            <option value="2">Преподаватель</option>
            <option value="3">Сотрудник</option>
        </select>
        <div id="student_id_div">
            <label for="student_id">Студ. билет</label>
            <input type="number" name="student_id" class="input-field" required><br>
        </div>
        <label for="password">Пароль</label>
        <input type="password" name="password" class="input-field" required><br><br>
        <button type="submit" class="btn btn-primary" style="background-color:#3199e6; width: 100%;">Зарегистрироваться</button><br><br>
        <a href="{% url 'login' %}" style="color:#3199e6; text-decoration: none;">Войти</a>
    </form>
</body>
{%endblock%}

{% block scripts %}
    <script>
        document.getElementById('role').addEventListener('change', function() {
        var Student_section = document.getElementById('student_id_div');
        if (this.value == '2' || this.value == '3') {
        Student_section.classList.add('hidden');
        } else {
        Student_section.classList.remove('hidden');
        }
        })
    </script>
{% endblock %}